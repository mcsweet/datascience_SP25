"0","## NOTE: No need to change this!"
"0","set.seed(101)"
"0",""
"0","# Downsample at different sample sizes, construct a confidence interval"
"0","df_flights_sampled <-"
"0","  map_dfr("
"0","    c(5, 10, 25, 50, 100, 250, 500), # Sample sizes"
"0","    function(n) {"
"0","      flights %>%"
"0","        filter(carrier == ""AA"") %>%"
"0","        slice_sample(n = n) %>%"
"0","        summarize(across("
"0","          arr_delay,"
"0","          c("
"0","            ""mean"" = ~mean(., na.rm = TRUE),"
"0","            ""se"" = ~sd(., na.rm = TRUE) / length(.)"
"0","          )"
"0","        )) %>%"
"0","        mutate("
"0","          arr_delay_lo = arr_delay_mean - 1.96 * arr_delay_se,"
"0","          arr_delay_hi = arr_delay_mean + 1.96 * arr_delay_se,"
"0","          n = n"
"0","        )"
"0","    }"
"0","  )"
"0",""
"0","# Visualize"
"0","df_flights_sampled %>%"
"0","  ggplot(aes(n, arr_delay_mean)) +"
"0","  geom_hline("
"0","    data = df_flights_aa,"
"0","    mapping = aes(yintercept = arr_delay_mean),"
"0","    size = 0.1"
"0","  ) +"
"0","  geom_hline(yintercept = 0, color = ""white"", size = 2) +"
"0","  geom_errorbar(aes("
"0","    ymin = arr_delay_lo,"
"0","    ymax = arr_delay_hi,"
"0","    color = (0 < arr_delay_lo)"
"0","  )) +"
"0","  geom_point() +"
"0","  scale_x_log10() +"
"0","  scale_color_discrete(name = ""Confidently Greater than Zero?"") +"
"0","  theme(legend.position = ""bottom"") +"
"0","  labs("
"0","    x = ""Observations"","
"0","    y = ""Arrival Delay (minutes)"","
"0","    title = ""American Airlines Delays"""
"0","  )"
"2","Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
Please use `linewidth` instead."
